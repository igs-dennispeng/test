[
  1,
  [
    "ecpdLyjvZBwrvm+cedCcQy",
    "0032QlNhlMsI4oykgjsTZH",
    "21VJjtse1CZKvJI3wrpoQX",
    "70nwmnlrJPfJyIUVfyxRV+",
    "c654a2/gxLQ6tT/ayTeYT+",
    "64qccQK+lA0ZyH8QAZzLRy",
    "cdX4WlkOFHJoH3Lr7TzWan",
    "d0qC05vt5GxLaYyB/w3t//",
    "0ahDKfIqNArLhzYbCg5Uz7",
    "91XdlYPIJEgYxvUKYOUT7z",
    "90d4LVD2tIfr4UUPFw7a7l",
    "b2aHrECZ5APKGS/0d2hvT1",
    "4dicC9fwVI9YtB7exiQ2y+",
    "d5rjoLfx5DfLFYjdDdK92i",
    "d92k1QeGtGWbT5+/Q4pYuQ",
    "47LfXTNedBhJ5sf0G+5l7j"
  ],
  [
    "node",
    "root",
    "_spriteFrame",
    "_file",
    "_textureSetter",
    "_parent",
    "_defaultClip",
    "u_normalMap",
    "texture2",
    "_effectAsset",
    "scene",
    "spriteFrame"
  ],
  [
    [
      "cc.Node",
      [
        "_name",
        "_groupIndex",
        "_id",
        "_components",
        "_prefab",
        "_parent",
        "_children",
        "_contentSize",
        "_trs"
      ],
      0,
      9,
      4,
      1,
      2,
      5,
      7
    ],
    "cc.SpriteFrame",
    [
      "cc.Animation",
      [
        "playOnLoad",
        "_enabled",
        "node",
        "_clips",
        "_defaultClip"
      ],
      1,
      1,
      3,
      6
    ],
    [
      "cc.PrefabInfo",
      [
        "fileId",
        "root"
      ],
      2,
      1
    ],
    [
      "cc.ParticleSystem",
      [
        "_custom",
        "totalParticles",
        "emissionRate",
        "life",
        "lifeVar",
        "angle",
        "angleVar",
        "startSize",
        "startSizeVar",
        "endSize",
        "endSizeVar",
        "startSpin",
        "_positionType",
        "speed",
        "speedVar",
        "tangentialAccel",
        "radialAccel",
        "_dstBlendFactor",
        "endSpin",
        "endSpinVar",
        "emitterMode",
        "startRadius",
        "startRadiusVar",
        "endRadius",
        "endRadiusVar",
        "rotatePerS",
        "rotatePerSVar",
        "node",
        "_materials",
        "_startColor",
        "_startColorVar",
        "_endColor",
        "_endColorVar",
        "posVar",
        "_file",
        "_spriteFrame",
        "gravity"
      ],
      -24,
      1,
      3,
      8,
      8,
      8,
      8,
      5,
      6,
      6,
      5
    ],
    [
      "cc.AnimationClip",
      [
        "_name",
        "_duration",
        "sample",
        "events",
        "wrapMode",
        "curveData"
      ],
      -2,
      11
    ],
    [
      "cc.ParticleAsset",
      [
        "_name",
        "_native"
      ],
      1
    ],
    [
      "cc.Material",
      [
        "_name",
        "_techniqueData"
      ],
      2,
      11
    ],
    [
      "cc.SceneAsset",
      [
        "_name",
        "asyncLoadAssets"
      ],
      1
    ],
    [
      "1a526yglEZMA5m8CpwRqEw2",
      [
        "node"
      ],
      3,
      1
    ],
    [
      "1832evACyJH27JjPCq26MUZ",
      [
        "node",
        "effectObjectList"
      ],
      3,
      1,
      2
    ],
    [
      "cc.Sprite",
      [
        "_sizeMode",
        "_isTrimmedMode",
        "node",
        "_materials",
        "_spriteFrame"
      ],
      1,
      1,
      3,
      6
    ],
    [
      "3d762Uq1u9LbrNwZAmbzE4S",
      [
        "_addTime",
        "node"
      ],
      2,
      1
    ],
    [
      "cc.Canvas",
      [
        "node",
        "_designResolution"
      ],
      3,
      1,
      5
    ],
    [
      "cc.Widget",
      [
        "_alignFlags",
        "node"
      ],
      2,
      1
    ],
    [
      "cc.Scene",
      [
        "_name",
        "_children",
        "_anchorPoint",
        "_trs"
      ],
      2,
      2,
      5,
      7
    ],
    [
      "cc.Camera",
      [
        "_clearFlags",
        "_depth",
        "node"
      ],
      1,
      1
    ],
    [
      "cc.AnimationClip",
      [
        "_name",
        "_duration",
        "sample",
        "wrapMode",
        "curveData"
      ],
      -2
    ],
    [
      "cc.EffectAsset",
      [
        "_name",
        "shaders",
        "techniques"
      ],
      0
    ]
  ],
  [
    [
      3,
      0,
      1,
      2
    ],
    [
      0,
      0,
      5,
      3,
      4,
      8,
      2
    ],
    [
      4,
      0,
      1,
      2,
      3,
      4,
      5,
      6,
      7,
      8,
      9,
      10,
      11,
      12,
      13,
      14,
      15,
      16,
      27,
      28,
      29,
      30,
      31,
      32,
      33,
      36,
      34,
      35,
      18
    ],
    [
      6,
      0,
      1,
      3
    ],
    [
      11,
      0,
      1,
      2,
      3,
      4,
      3
    ],
    [
      7,
      0,
      1,
      2
    ],
    [
      8,
      0,
      1,
      3
    ],
    [
      0,
      0,
      1,
      6,
      3,
      4,
      3
    ],
    [
      0,
      0,
      6,
      3,
      4,
      2
    ],
    [
      0,
      0,
      5,
      6,
      3,
      4,
      7,
      8,
      2
    ],
    [
      0,
      0,
      2,
      6,
      3,
      7,
      8,
      3
    ],
    [
      0,
      0,
      5,
      3,
      4,
      2
    ],
    [
      0,
      0,
      5,
      3,
      7,
      2
    ],
    [
      0,
      0,
      5,
      3,
      4,
      7,
      8,
      2
    ],
    [
      2,
      1,
      0,
      2,
      3,
      4,
      3
    ],
    [
      2,
      0,
      2,
      3,
      4,
      2
    ],
    [
      9,
      0,
      1
    ],
    [
      10,
      0,
      1,
      1
    ],
    [
      3,
      1,
      1
    ],
    [
      12,
      0,
      1,
      2
    ],
    [
      13,
      0,
      1,
      1
    ],
    [
      14,
      0,
      1,
      2
    ],
    [
      4,
      17,
      0,
      1,
      2,
      3,
      4,
      5,
      6,
      7,
      8,
      9,
      10,
      11,
      18,
      19,
      12,
      20,
      13,
      14,
      15,
      21,
      22,
      23,
      24,
      25,
      26,
      27,
      28,
      29,
      30,
      31,
      32,
      33,
      34,
      35,
      27
    ],
    [
      15,
      0,
      1,
      2,
      3,
      2
    ],
    [
      16,
      0,
      1,
      2,
      3
    ],
    [
      5,
      0,
      1,
      2,
      3,
      5,
      5
    ],
    [
      5,
      0,
      1,
      2,
      4,
      3,
      5,
      6
    ],
    [
      17,
      0,
      1,
      2,
      3,
      4,
      6
    ],
    [
      18,
      0,
      1,
      2,
      4
    ]
  ],
  [
    [
      [
        {
          "name": "Bubble",
          "rect": [
            1,
            1,
            106,
            106
          ],
          "offset": [
            -10,
            10
          ],
          "originalSize": [
            128,
            128
          ],
          "capInsets": [
            0,
            0,
            0,
            0
          ]
        }
      ],
      [
        1
      ],
      0,
      [
        0
      ],
      [
        4
      ],
      [
        6
      ]
    ],
    [
      [
        [
          3,
          "P_Bubble",
          ".plist"
        ],
        -1
      ],
      0,
      0,
      [],
      [],
      []
    ],
    [
      [
        {
          "name": "atom",
          "rect": [
            0,
            0,
            31,
            31
          ],
          "offset": [
            0,
            0
          ],
          "originalSize": [
            31,
            31
          ],
          "capInsets": [
            0,
            0,
            0,
            0
          ]
        }
      ],
      [
        1
      ],
      0,
      [
        0
      ],
      [
        4
      ],
      [
        7
      ]
    ],
    [
      [
        [
          5,
          "under-water",
          [
            {},
            "0",
            11,
            [
              {
                "defines": {
                  "USE_TEXTURE": true
                }
              },
              "props",
              11,
              [
                {
                  "addTimes": 1.1,
                  "timeFactor": 0.2,
                  "offsetFactor": 0.1,
                  "refractionFactor": 0.7
                },
                "u_normalMap",
                6,
                0,
                "texture2",
                6,
                1
              ]
            ]
          ]
        ]
      ],
      0,
      0,
      [
        0,
        0,
        0
      ],
      [
        7,
        8,
        9
      ],
      [
        8,
        9,
        10
      ]
    ],
    [
      [
        [
          6,
          "New Scene",
          null
        ],
        [
          7,
          "KingRockSkullBackground",
          4,
          [
            -11,
            -12
          ],
          [
            [
              14,
              false,
              true,
              -2,
              [
                22,
                23
              ],
              21
            ],
            [
              16,
              -3
            ],
            [
              17,
              -10,
              [
                -4,
                -5,
                -6,
                -7,
                -8,
                -9
              ]
            ]
          ],
          [
            18,
            -1
          ]
        ],
        [
          8,
          "CornerBubbles",
          [
            -15,
            -16,
            -17,
            -18
          ],
          [
            [
              15,
              true,
              -14,
              [
                15
              ],
              14
            ]
          ],
          [
            0,
            "18rAjV2edMaJzn3hoseUxZ",
            -13
          ]
        ],
        [
          9,
          "Background",
          1,
          [
            2,
            -21
          ],
          [
            [
              4,
              2,
              false,
              -19,
              [
                19
              ],
              20
            ],
            [
              19,
              0.3,
              -20
            ]
          ],
          [
            0,
            "f6vcIz/7lE2ZNECT49Lpb3",
            1
          ],
          [
            5,
            1280,
            720
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1.05,
            1.05,
            1
          ]
        ],
        [
          10,
          "Canvas",
          "a5esZu+45LA5mBpvttspPD",
          [
            -24,
            1
          ],
          [
            [
              20,
              -22,
              [
                5,
                1280,
                720
              ]
            ],
            [
              21,
              45,
              -23
            ]
          ],
          [
            5,
            1280,
            720
          ],
          [
            640,
            360,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1
          ]
        ],
        [
          1,
          "Bubble_LU",
          2,
          [
            [
              2,
              true,
              100,
              4,
              2,
              0.5,
              150,
              0,
              8,
              10,
              50,
              10,
              -544,
              1,
              1,
              5,
              -474,
              -800,
              -26,
              [
                2
              ],
              [
                4,
                4294967295
              ],
              [
                4,
                419430400
              ],
              [
                4,
                973078527
              ],
              [
                4,
                1275068416
              ],
              [
                0,
                10,
                5
              ],
              [
                0,
                -1020,
                380
              ],
              3,
              4
            ]
          ],
          [
            0,
            "61y57oOQJLGpy72CGfJYVk",
            -25
          ],
          [
            -203.42,
            -32.824,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1
          ]
        ],
        [
          1,
          "Bubble_RU",
          2,
          [
            [
              2,
              true,
              100,
              5,
              2,
              0.5,
              88,
              50,
              5,
              10,
              50,
              10,
              -544,
              1,
              1,
              5,
              -474,
              -800,
              -28,
              [
                5
              ],
              [
                4,
                4294967295
              ],
              [
                4,
                419430400
              ],
              [
                4,
                973078527
              ],
              [
                4,
                1275068416
              ],
              [
                0,
                20,
                5
              ],
              [
                0,
                140,
                1140
              ],
              6,
              7
            ]
          ],
          [
            0,
            "8bwAjJyx5ASbAfQTzV05P7",
            -27
          ],
          [
            197.875,
            36.403,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1
          ]
        ],
        [
          1,
          "Bubble_RD",
          2,
          [
            [
              2,
              true,
              100,
              2,
              2,
              0.5,
              0,
              0,
              8,
              10,
              50,
              10,
              -544,
              1,
              1,
              5,
              -474,
              -800,
              -30,
              [
                8
              ],
              [
                4,
                4294967295
              ],
              [
                4,
                419430400
              ],
              [
                4,
                973078527
              ],
              [
                4,
                1275068416
              ],
              [
                0,
                5,
                5
              ],
              [
                0,
                1020,
                -200
              ],
              9,
              10
            ]
          ],
          [
            0,
            "2dM/tgK9FLRYHDaIaXDqQi",
            -29
          ],
          [
            237.991,
            -219.299,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1
          ]
        ],
        [
          1,
          "Bubble_LD",
          2,
          [
            [
              2,
              true,
              100,
              3,
              2,
              0.5,
              -100,
              50,
              5,
              10,
              50,
              10,
              -544,
              1,
              1,
              5,
              -474,
              -800,
              -32,
              [
                11
              ],
              [
                4,
                4294967295
              ],
              [
                4,
                419430400
              ],
              [
                4,
                973078527
              ],
              [
                4,
                1275068416
              ],
              [
                0,
                20,
                5
              ],
              [
                0,
                -140,
                -1120
              ],
              12,
              13
            ]
          ],
          [
            0,
            "6cCGi+HJNJ2YM+OX9NkjQy",
            -31
          ],
          [
            -168.942,
            -279.661,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1
          ]
        ],
        [
          11,
          "SpreadBubbles",
          3,
          [
            [
              22,
              1,
              true,
              200,
              1,
              5,
              3,
              0,
              360,
              5,
              10,
              50,
              10,
              -47.369998931884766,
              -47.369998931884766,
              -142.11000061035156,
              1,
              1,
              0,
              190.7899932861328,
              0,
              150,
              10,
              700,
              10,
              0.1,
              0.1,
              -34,
              [
                16
              ],
              [
                4,
                4294967295
              ],
              [
                4,
                419430400
              ],
              [
                4,
                973078527
              ],
              [
                4,
                1275068416
              ],
              [
                0,
                50,
                50
              ],
              17,
              18
            ]
          ],
          [
            0,
            "487rmosKtKpYBWh2JmnLJw",
            -33
          ]
        ],
        [
          23,
          "New Node",
          [
            4
          ],
          [
            0,
            0,
            0
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1
          ]
        ],
        [
          12,
          "Main Camera",
          4,
          [
            [
              24,
              7,
              -1,
              -35
            ]
          ],
          [
            5,
            1280,
            720
          ]
        ],
        [
          13,
          "Background",
          1,
          [
            [
              4,
              2,
              false,
              -36,
              [
                0
              ],
              1
            ]
          ],
          [
            0,
            "20wDPIfAVBIrFevTe9y+C2",
            1
          ],
          [
            5,
            1280,
            720
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1.035,
            1.035,
            1
          ]
        ]
      ],
      0,
      [
        0,
        1,
        1,
        0,
        0,
        1,
        0,
        0,
        1,
        0,
        -1,
        3,
        0,
        -2,
        5,
        0,
        -3,
        6,
        0,
        -4,
        7,
        0,
        -5,
        8,
        0,
        -6,
        9,
        0,
        0,
        1,
        0,
        -1,
        12,
        0,
        -2,
        3,
        0,
        1,
        2,
        0,
        0,
        2,
        0,
        -1,
        5,
        0,
        -2,
        6,
        0,
        -3,
        7,
        0,
        -4,
        8,
        0,
        0,
        3,
        0,
        0,
        3,
        0,
        -2,
        9,
        0,
        0,
        4,
        0,
        0,
        4,
        0,
        -1,
        11,
        0,
        1,
        5,
        0,
        0,
        5,
        0,
        1,
        6,
        0,
        0,
        6,
        0,
        1,
        7,
        0,
        0,
        7,
        0,
        1,
        8,
        0,
        0,
        8,
        0,
        1,
        9,
        0,
        0,
        9,
        0,
        0,
        11,
        0,
        0,
        12,
        0,
        10,
        10,
        1,
        5,
        4,
        2,
        5,
        3,
        4,
        5,
        10,
        36
      ],
      [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      [
        -1,
        2,
        -1,
        3,
        2,
        -1,
        3,
        2,
        -1,
        3,
        2,
        -1,
        3,
        2,
        6,
        -1,
        -1,
        3,
        2,
        -1,
        2,
        6,
        -1,
        -2
      ],
      [
        0,
        3,
        0,
        2,
        1,
        0,
        2,
        1,
        0,
        2,
        1,
        0,
        2,
        1,
        4,
        4,
        0,
        11,
        1,
        12,
        3,
        5,
        5,
        13
      ]
    ],
    [
      [
        [
          25,
          "Normal_Enter",
          2,
          30,
          [
            {
              "frame": 2,
              "func": "play",
              "params": [
                "Normal_Loop"
              ]
            }
          ],
          [
            {},
            "props",
            11,
            [
              {},
              "scale",
              12,
              [
                [
                  [
                    {
                      "frame": 0
                    },
                    "value",
                    8,
                    [
                      0,
                      1.05,
                      1.05
                    ]
                  ],
                  [
                    {
                      "frame": 1
                    },
                    "value",
                    8,
                    [
                      0,
                      1.1,
                      1.1
                    ]
                  ],
                  [
                    {
                      "frame": 2
                    },
                    "value",
                    8,
                    [
                      0,
                      1,
                      1
                    ]
                  ]
                ],
                11,
                11,
                11
              ]
            ],
            "paths",
            11,
            [
              {},
              "Rock",
              11,
              [
                {},
                "props",
                11,
                [
                  {},
                  "scale",
                  12,
                  [
                    [
                      [
                        {
                          "frame": 0
                        },
                        "value",
                        8,
                        [
                          0,
                          1,
                          1
                        ]
                      ]
                    ],
                    11
                  ]
                ]
              ]
            ]
          ]
        ]
      ],
      0,
      0,
      [],
      [],
      []
    ],
    [
      [
        {
          "name": "場景_搖滾骷顱",
          "rect": [
            0,
            0,
            1280,
            720
          ],
          "offset": [
            0,
            0
          ],
          "originalSize": [
            1280,
            720
          ],
          "capInsets": [
            0,
            0,
            0,
            0
          ]
        }
      ],
      [
        1
      ],
      0,
      [
        0
      ],
      [
        4
      ],
      [
        14
      ]
    ],
    [
      [
        [
          28,
          "under-water",
          [
            {
              "hash": 730427987,
              "record": null,
              "name": "under-water|vs|fs",
              "glsl3": {
                "vert": "\nprecision highp float;\nuniform CCGlobal {\n  mat4 cc_matView;\n  mat4 cc_matViewInv;\n  mat4 cc_matProj;\n  mat4 cc_matProjInv;\n  mat4 cc_matViewProj;\n  mat4 cc_matViewProjInv;\n  vec4 cc_cameraPos;\n  vec4 cc_time;\n  mediump vec4 cc_screenSize;\n  mediump vec4 cc_screenScale;\n};\nuniform CCLocal {\n  mat4 cc_matWorld;\n  mat4 cc_matWorldIT;\n};\nin vec3 a_position;\nin vec4 a_color;\nout vec4 v_color;\n#if USE_TEXTURE\nin vec2 a_uv0;\nout vec2 v_uv0;\n#endif\nvoid main () {\n  vec4 pos = vec4(a_position, 1);\n  #if CC_USE_MODEL\n  pos = cc_matViewProj * cc_matWorld * pos;\n  #else\n  pos = cc_matViewProj * pos;\n  #endif\n  #if USE_TEXTURE\n  v_uv0 = a_uv0;\n  #endif\n  v_color = a_color;\n  gl_Position = pos;\n}",
                "frag": "\nprecision highp float;\n#if USE_ALPHA_TEST\n  uniform ALPHA_TEST {\n    float alphaThreshold;\n  };\n#endif\nuniform CCGlobal {\n  mat4 cc_matView;\n  mat4 cc_matViewInv;\n  mat4 cc_matProj;\n  mat4 cc_matProjInv;\n  mat4 cc_matViewProj;\n  mat4 cc_matViewProjInv;\n  vec4 cc_cameraPos;\n  vec4 cc_time;\n  mediump vec4 cc_screenSize;\n  mediump vec4 cc_screenScale;\n};\nin vec4 v_color;\n#if USE_TEXTURE\nin vec2 v_uv0;\nuniform sampler2D texture;\nuniform sampler2D texture2;\nuniform sampler2D u_normalMap;\n#endif\nuniform EffectSetting {\n  float timeFactor;\n  float offsetFactor;\n  float refractionFactor;\n  float addTimes;\n};\nfloat hashOld12(vec2 p) {\n  return fract( sin(dot(p,vec2(12.9898, 78.233))) * 43758.5453 );\n}\nfloat drawLayer(float scale, vec2 uv) {\n  float co = 0.;\n  vec2 uv1 = uv;\n  uv1 *= scale;\n  vec2 hvtmp = floor( uv1 );\n  float n = hashOld12( vec2(hvtmp.y) );\n  uv1.x += n;\n  vec2 hv = floor( uv1 );\n  vec2 fr = fract( uv1 );\n  float circle = distance( fr, vec2(.5) );\n  float radius = hashOld12( hv );\n  float strength = radius;\n  radius = radius * 0.3 + 0.1;\n  float f1 = mod( floor(radius*10.0), 2.0 );\n  radius *= f1;\n  circle = smoothstep(radius - 0.15 * scale,radius,circle);\n  circle = 1. - circle;\n  strength *= 1. / scale * 4.;\n  circle *= strength;\n  co += circle;\n  return co;\n}\nvec3 waveNormal(vec2 p) {\n  float x = mod(p.x , 2.0) < 1.0 ? fract(p.x) : 1.0 - fract(p.x);\n  float y = mod(p.y , 2.0) < 1.0 ? fract(p.y) : 1.0 - fract(p.y);\n  vec3 normal = texture2D(u_normalMap, vec2(x , y)).xyz;\n  normal = -1.0 + normal * 2.0;\n  normal.x *= 0.1;\n  normal.y *= 0.1;\n  return normalize(normal);\n}\nvec2 water (vec2 p2) {\n    vec3 normal = waveNormal(p2 + vec2(cc_time.x * 1.0 * timeFactor, cc_time.x * 0.1 * timeFactor));\n    vec2 p = -1.0 + 2.0 * p2;\n    vec3 eyePos = vec3(0, 0, 10);\n    vec3 inVec = normalize(vec3(p, 0) - eyePos);\n    vec3 refractVec = refract(inVec, normal, refractionFactor);\n    vec2 v_texCoordN = p2;\n    v_texCoordN += refractVec.xy * offsetFactor;\n    return v_texCoordN;\n}\nvoid main () {\n  vec4 o = v_color;\n  #if USE_TEXTURE\n  vec4 texture_tmp = texture(texture, v_uv0);\n  #if CC_USE_ALPHA_ATLAS_texture\n      texture_tmp.a *= texture(texture, v_uv0 + vec2(0, 0.5)).r;\n  #endif\n  #if INPUT_IS_GAMMA\n    o.rgb *= (texture_tmp.rgb * texture_tmp.rgb);\n    o.a *= texture_tmp.a;\n  #else\n    o *= texture_tmp;\n  #endif\n  #endif\n  vec2 uv = vec2(v_uv0.x,v_uv0.y);\n  vec3 co = texture(texture,water(v_uv0)).xyz;\n  for( int i=0; i<2; ++i ){\n    float idx = float( i );\n    float p1 = idx * 2. + 2.;\n    vec2 uvoff = vec2( -hashOld12( vec2(p1) ) , -hashOld12( vec2(p1) )*0.5 );\n    uvoff = uvoff * cos(cc_time.x) * .1 + (uvoff * cc_time.x * .03);\n    vec2 p2 = vec2( uv.x, uv.y ) + uvoff;\n    float layer = drawLayer( p1, water(p2));\n    uvoff = vec2( -hashOld12( vec2(p1) )* sin(idx) , -hashOld12( vec2(p1) )*0.5* cos(idx)  ) ;\n    uvoff = (uvoff * cc_time.x * .2);\n    p2 = vec2( uv.x, uv.y ) + uvoff;\n    co += co * addTimes * max(texture2D(texture2,water(p2)).x , layer);\n  }\n  gl_FragColor = vec4( co, 1.0 );\n  gl_FragColor.a = o.a;\n}"
              },
              "glsl1": {
                "vert": "\nprecision highp float;\nuniform mat4 cc_matViewProj;\nuniform mat4 cc_matWorld;\nattribute vec3 a_position;\nattribute vec4 a_color;\nvarying vec4 v_color;\n#if USE_TEXTURE\nattribute vec2 a_uv0;\nvarying vec2 v_uv0;\n#endif\nvoid main () {\n  vec4 pos = vec4(a_position, 1);\n  #if CC_USE_MODEL\n  pos = cc_matViewProj * cc_matWorld * pos;\n  #else\n  pos = cc_matViewProj * pos;\n  #endif\n  #if USE_TEXTURE\n  v_uv0 = a_uv0;\n  #endif\n  v_color = a_color;\n  gl_Position = pos;\n}",
                "frag": "\nprecision highp float;\n#if USE_ALPHA_TEST\n#endif\nuniform vec4 cc_time;\nvarying vec4 v_color;\n#if USE_TEXTURE\nvarying vec2 v_uv0;\nuniform sampler2D texture;\nuniform sampler2D texture2;\nuniform sampler2D u_normalMap;\n#endif\nuniform float timeFactor;\nuniform float offsetFactor;\nuniform float refractionFactor;\nuniform float addTimes;\nfloat hashOld12(vec2 p) {\n  return fract( sin(dot(p,vec2(12.9898, 78.233))) * 43758.5453 );\n}\nfloat drawLayer(float scale, vec2 uv) {\n  float co = 0.;\n  vec2 uv1 = uv;\n  uv1 *= scale;\n  vec2 hvtmp = floor( uv1 );\n  float n = hashOld12( vec2(hvtmp.y) );\n  uv1.x += n;\n  vec2 hv = floor( uv1 );\n  vec2 fr = fract( uv1 );\n  float circle = distance( fr, vec2(.5) );\n  float radius = hashOld12( hv );\n  float strength = radius;\n  radius = radius * 0.3 + 0.1;\n  float f1 = mod( floor(radius*10.0), 2.0 );\n  radius *= f1;\n  circle = smoothstep(radius - 0.15 * scale,radius,circle);\n  circle = 1. - circle;\n  strength *= 1. / scale * 4.;\n  circle *= strength;\n  co += circle;\n  return co;\n}\nvec3 waveNormal(vec2 p) {\n  float x = mod(p.x , 2.0) < 1.0 ? fract(p.x) : 1.0 - fract(p.x);\n  float y = mod(p.y , 2.0) < 1.0 ? fract(p.y) : 1.0 - fract(p.y);\n  vec3 normal = texture2D(u_normalMap, vec2(x , y)).xyz;\n  normal = -1.0 + normal * 2.0;\n  normal.x *= 0.1;\n  normal.y *= 0.1;\n  return normalize(normal);\n}\nvec2 water (vec2 p2) {\n    vec3 normal = waveNormal(p2 + vec2(cc_time.x * 1.0 * timeFactor, cc_time.x * 0.1 * timeFactor));\n    vec2 p = -1.0 + 2.0 * p2;\n    vec3 eyePos = vec3(0, 0, 10);\n    vec3 inVec = normalize(vec3(p, 0) - eyePos);\n    vec3 refractVec = refract(inVec, normal, refractionFactor);\n    vec2 v_texCoordN = p2;\n    v_texCoordN += refractVec.xy * offsetFactor;\n    return v_texCoordN;\n}\nvoid main () {\n  vec4 o = v_color;\n  #if USE_TEXTURE\n  vec4 texture_tmp = texture2D(texture, v_uv0);\n  #if CC_USE_ALPHA_ATLAS_texture\n      texture_tmp.a *= texture2D(texture, v_uv0 + vec2(0, 0.5)).r;\n  #endif\n  #if INPUT_IS_GAMMA\n    o.rgb *= (texture_tmp.rgb * texture_tmp.rgb);\n    o.a *= texture_tmp.a;\n  #else\n    o *= texture_tmp;\n  #endif\n  #endif\n  vec2 uv = vec2(v_uv0.x,v_uv0.y);\n  vec3 co = texture2D(texture,water(v_uv0)).xyz;\n  for( int i=0; i<2; ++i ){\n    float idx = float( i );\n    float p1 = idx * 2. + 2.;\n    vec2 uvoff = vec2( -hashOld12( vec2(p1) ) , -hashOld12( vec2(p1) )*0.5 );\n    uvoff = uvoff * cos(cc_time.x) * .1 + (uvoff * cc_time.x * .03);\n    vec2 p2 = vec2( uv.x, uv.y ) + uvoff;\n    float layer = drawLayer( p1, water(p2));\n    uvoff = vec2( -hashOld12( vec2(p1) )* sin(idx) , -hashOld12( vec2(p1) )*0.5* cos(idx)  ) ;\n    uvoff = (uvoff * cc_time.x * .2);\n    p2 = vec2( uv.x, uv.y ) + uvoff;\n    co += co * addTimes * max(texture2D(texture2,water(p2)).x , layer);\n  }\n  gl_FragColor = vec4( co, 1.0 );\n  gl_FragColor.a = o.a;\n}"
              },
              "builtins": {
                "globals": {
                  "blocks": [
                    {
                      "name": "CCGlobal",
                      "defines": []
                    }
                  ],
                  "samplers": []
                },
                "locals": {
                  "blocks": [
                    {
                      "name": "CCLocal",
                      "defines": []
                    }
                  ],
                  "samplers": []
                }
              },
              "defines": [
                {
                  "name": "USE_TEXTURE",
                  "type": "boolean",
                  "defines": []
                },
                {
                  "name": "CC_USE_MODEL",
                  "type": "boolean",
                  "defines": []
                },
                {
                  "name": "USE_ALPHA_TEST",
                  "type": "boolean",
                  "defines": []
                },
                {
                  "name": "CC_USE_ALPHA_ATLAS_texture",
                  "type": "boolean",
                  "defines": [
                    "USE_TEXTURE"
                  ]
                },
                {
                  "name": "INPUT_IS_GAMMA",
                  "type": "boolean",
                  "defines": [
                    "USE_TEXTURE"
                  ]
                }
              ],
              "blocks": [
                {
                  "name": "ALPHA_TEST",
                  "binding": 0,
                  "members": [
                    {
                      "name": "alphaThreshold",
                      "type": 13,
                      "count": 1
                    }
                  ],
                  "defines": [
                    "USE_ALPHA_TEST"
                  ]
                },
                {
                  "name": "EffectSetting",
                  "binding": 1,
                  "members": [
                    {
                      "name": "timeFactor",
                      "type": 13,
                      "count": 1
                    },
                    {
                      "name": "offsetFactor",
                      "type": 13,
                      "count": 1
                    },
                    {
                      "name": "refractionFactor",
                      "type": 13,
                      "count": 1
                    },
                    {
                      "name": "addTimes",
                      "type": 13,
                      "count": 1
                    }
                  ],
                  "defines": []
                }
              ],
              "samplers": [
                {
                  "name": "texture",
                  "type": 29,
                  "count": 1,
                  "binding": 30,
                  "defines": [
                    "USE_TEXTURE"
                  ]
                },
                {
                  "name": "texture2",
                  "type": 29,
                  "count": 1,
                  "binding": 31,
                  "defines": [
                    "USE_TEXTURE"
                  ]
                },
                {
                  "name": "u_normalMap",
                  "type": 29,
                  "count": 1,
                  "binding": 32,
                  "defines": [
                    "USE_TEXTURE"
                  ]
                }
              ]
            }
          ],
          [
            {
              "passes": [
                {
                  "program": "under-water|vs|fs",
                  "blendState": {
                    "targets": [
                      {
                        "blend": true
                      }
                    ]
                  },
                  "rasterizerState": {
                    "cullMode": 0
                  },
                  "properties": {
                    "texture": {
                      "value": "white",
                      "type": 29
                    },
                    "texture2": {
                      "value": "white",
                      "type": 29
                    },
                    "u_normalMap": {
                      "value": "white",
                      "type": 29
                    },
                    "alphaThreshold": {
                      "type": 13,
                      "value": [
                        0.5
                      ]
                    },
                    "timeFactor": {
                      "type": 13,
                      "value": [
                        0.1
                      ],
                      "editor": {
                        "tooltip": "波動速度"
                      }
                    },
                    "offsetFactor": {
                      "type": 13,
                      "value": [
                        0.5
                      ],
                      "editor": {
                        "tooltip": "波動幅度"
                      }
                    },
                    "refractionFactor": {
                      "type": 13,
                      "value": [
                        0.7
                      ],
                      "editor": {
                        "tooltip": "???"
                      }
                    },
                    "addTimes": {
                      "type": 13,
                      "value": [
                        1
                      ],
                      "editor": {
                        "tooltip": "重疊次數，0為原色，越大則越亮"
                      }
                    }
                  }
                }
              ]
            }
          ]
        ]
      ],
      0,
      0,
      [],
      [],
      []
    ],
    [
      [
        [
          3,
          "atom",
          ".plist"
        ],
        -1
      ],
      0,
      0,
      [
        0
      ],
      [
        11
      ],
      [
        15
      ]
    ],
    [
      [
        [
          27,
          "BubbleAnim",
          30,
          2,
          2,
          {
            "paths": {
              "Bubble_LU": {
                "comps": {
                  "cc.ParticleSystem": {
                    "emissionRate": [
                      {
                        "frame": 0,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 1.5,
                        "value": 2,
                        "curve": "constant"
                      },
                      {
                        "frame": 5.5,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 9.5,
                        "value": 10,
                        "curve": "constant"
                      },
                      {
                        "frame": 11.5,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 15,
                        "value": 2,
                        "curve": "constant"
                      },
                      {
                        "frame": 19,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 23.5,
                        "value": 3
                      },
                      {
                        "frame": 25.5,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 30,
                        "value": 5
                      }
                    ]
                  }
                }
              },
              "Bubble_RU": {
                "comps": {
                  "cc.ParticleSystem": {
                    "emissionRate": [
                      {
                        "frame": 0,
                        "value": 4,
                        "curve": "constant"
                      },
                      {
                        "frame": 2.5,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 4,
                        "value": 2,
                        "curve": "constant"
                      },
                      {
                        "frame": 7.5,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 11,
                        "value": 3,
                        "curve": "constant"
                      },
                      {
                        "frame": 13,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 16.5,
                        "value": 8,
                        "curve": "constant"
                      },
                      {
                        "frame": 18.5,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 21.5,
                        "value": 2,
                        "curve": "constant"
                      },
                      {
                        "frame": 26.5,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 28,
                        "value": 6,
                        "curve": "constant"
                      },
                      {
                        "frame": 30,
                        "value": 0
                      }
                    ]
                  }
                }
              },
              "Bubble_RD": {
                "comps": {
                  "cc.ParticleSystem": {
                    "emissionRate": [
                      {
                        "frame": 0,
                        "value": 4,
                        "curve": "constant"
                      },
                      {
                        "frame": 1,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 4.5,
                        "value": 2,
                        "curve": "constant"
                      },
                      {
                        "frame": 7,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 9,
                        "value": 3,
                        "curve": "constant"
                      },
                      {
                        "frame": 13,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 15.5,
                        "value": 8,
                        "curve": "constant"
                      },
                      {
                        "frame": 17.5,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 22.5,
                        "value": 2,
                        "curve": "constant"
                      },
                      {
                        "frame": 24.5,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 29,
                        "value": 6,
                        "curve": "constant"
                      },
                      {
                        "frame": 30,
                        "value": 0
                      }
                    ]
                  }
                }
              },
              "Bubble_LD": {
                "comps": {
                  "cc.ParticleSystem": {
                    "emissionRate": [
                      {
                        "frame": 0,
                        "value": 4,
                        "curve": "constant"
                      },
                      {
                        "frame": 3.5,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 7,
                        "value": 2,
                        "curve": "constant"
                      },
                      {
                        "frame": 8.5,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 11,
                        "value": 3,
                        "curve": "constant"
                      },
                      {
                        "frame": 14.5,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 16.5,
                        "value": 8,
                        "curve": "constant"
                      },
                      {
                        "frame": 18.5,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 21.5,
                        "value": 2,
                        "curve": "constant"
                      },
                      {
                        "frame": 24,
                        "value": 0,
                        "curve": "constant"
                      },
                      {
                        "frame": 27,
                        "value": 6,
                        "curve": "constant"
                      },
                      {
                        "frame": 30,
                        "value": 0
                      }
                    ]
                  }
                }
              }
            }
          }
        ]
      ],
      0,
      0,
      [],
      [],
      []
    ],
    [
      [
        [
          26,
          "Boss_Enter",
          4.033333333333333,
          30,
          "1",
          [
            {
              "frame": 4.033333333333333,
              "func": "play",
              "params": [
                "Boss_Loop"
              ]
            }
          ],
          [
            {},
            "paths",
            11,
            [
              {},
              "Rock",
              11,
              [
                {},
                "props",
                11,
                [
                  {},
                  "scale",
                  12,
                  [
                    [
                      [
                        {
                          "frame": 0
                        },
                        "value",
                        8,
                        [
                          0,
                          1,
                          1
                        ]
                      ],
                      [
                        {
                          "frame": 4.033333333333333
                        },
                        "value",
                        8,
                        [
                          0,
                          0.6,
                          0.6
                        ]
                      ]
                    ],
                    11,
                    11
                  ]
                ]
              ]
            ]
          ]
        ]
      ],
      0,
      0,
      [],
      [],
      []
    ]
  ]
]